<!DOCTYPE html>
<html>
    <head>
        <title>Die inneren Werte</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href='http://fonts.googleapis.com/css?family=Raleway:400,700,300' rel='stylesheet' type='text/css'>
        <link href="style/normal.css" rel="stylesheet" type="text/css"/>
        <script src="js/libs/jquery/jquery.min.js" type="text/javascript"></script>
        <script src="js/libs/html5shiv/html5.min.js" type="text/javascript"></script>
        <script src="js/libs/flexslider/jquery.flexslider-min.js" type="text/javascript"></script>
        <script src="js/root.js" type="text/javascript"></script>
    </head>

    <body>

        <header>
            <div class="container">
                die inneren werte
                <ul>
                    <li><a href="#idea">Übersicht</a></li>
                    <li><a href="#arch">Funktionen</a></li>
                    <li><a href="#hw">Bilder</a></li>
                    <li><a href="#installation">Installation</a></li>
                </ul>
            </div>
        </header>

        <section id="idea">
            <div class="container first cut">
                Die Idee zu diesem Projekt kommt aus dem privaten Umfeld. 
                Grob gesagt, geht es darum, Daten von einem Pulsoxymeter auszulesen und diese in einer 
                Web Anwendung zu Verfügung zu stellen. <br/><br/>
                <div class="flexslider center">
                   <ul class="slides">
                       <li>Live Daten<br/><img width="100%" src="style/images/1.png" alt="logo" /></li>
                       <li>Überprüfen der Grenzwerte mit Alarm<br/><img width="100%" src="style/images/2.png" alt="logo" /></li>
                       <li>Kritischer Alarm<br/><img width="100%" src="style/images/3.png" alt="logo" /></li>
                       <li>Trendanalyse der Werte.<br/><img width="100%" src="style/images/4.png" alt="logo" /></li>
                       <li>Min/Max Anzeige<br/><img width="100%" src="style/images/5.png" alt="logo" /></li>
                   </ul>
                </div>
                <p class="center">Zunächst stellt sich die Frage, warum das Ganze ?
                    Der Pulsoxymeter überwacht doch schon die Werte und zeigt diese an. 
                    Auch ein Alarm wird akustisch gemeldet. Hier ist allerdings schon das erste Problem. oft ist der Alarm nur schlecht oder sogar gar nicht zu hören.
                    Es gibt je nach Hersteller hier bereits Lösungen wie Rufanlage, etc.<br/>
                    Ich wollte eine Lösung, bei der ich einen akustischen Alarm höre und die aktuellen Werte einsehen kann. 
                </p>
            </div>
        </section>
        <section id="arch">
            <div class="container cut">
                <h2>Funktionen</h2>
                <div class="columns">
                    <img src="style/images/user.png" />
                    Anzeigen von Benutzerinformationen.
                </div><div class="columns">
                    <img src="style/images/health.png" />
                    Überwachen von Puls und Sauerstoffsättigung.
                </div>
                <div class="columns">
                    <img src="style/images/cyclic.png" />
                    Die Werte werden zyklisch abgeholt.
                </div>
                <div class="columns">
                    <img src="style/images/chart.png" />
                    Visualisierung der Werte.
                </div>
                <div class="columns">
                    <img src="style/images/alarm.png" />
                    Grenzüberwachung mit automatischen Alarm. 
                </div>
                <div class="columns">
                    <img src="style/images/trace.png" />
                    Alles wird protokolliert.
                </div>
                <div class="columns">
                    <img src="style/images/camera.png" />
                    Aktuelles Bild von integrierter Kamera (alle 4s aktualisiert)
                </div>
                <div class="columns">
                    <img src="style/images/pebble.png" />
                    Anwendung für Pebble Smartwatch verfügbar. Zeigt Werte und gibt Vibrationsalarm bei Alarm.
                </div>

                <br class="clearfix" />
            </div>
        </section>
        <section id="hw">
            <div class="container cut">
                <h2>Bilder</h2>
                <div class="flexslider center">
                   <ul class="slides">
                      <li>
                          <img src="style/images/rasp1.jpg" /><br/>
                          Die verwendete Hardware für den Betrieb.
                      </li>
                      <li>
                          <img src="style/images/rasp2.jpg" /><br/>
                          Raspberry Pi Board.
                      </li>
                      <li>
                          <img src="style/images/rasp7.jpg" /><br/>
                          Installation des Systems.
                      </li>
                      <li>
                          <img src="style/images/rasp3.jpg" /><br/>
                          Erste Verkabelung. Nicht schön, aber es funktioniert.
                      </li>
                      <li>
                          <img src="style/images/rasp4.jpg" /><br/>
                          Tests mit dem Laptop zur Datenabfrage.
                      </li>
                      <li>
                          <img src="style/images/rasp5.jpg" /><br/>
                          Der fertige Raspberry Pi mit dem Pulsoxy.
                      </li>
                      <li>
                          <img src="style/images/rasp6.jpg" /><br/>
                          Der Pulsoxy im Betrieb.
                      </li>
                      <li>
                          <img src="style/images/rasp8.jpg" /><br/>
                          Auf dem Smart TV funktioniert es auch.
                      </li>
                       <li>
                          <img src="style/images/rasp9.jpg" /><br/>
                          Anwendung speziell für Pebble smartwatch.
                      </li>
                   </ul>
                   
                </div>
                <br class="clearfix" />
            </div>
        </section>
        <section id="installation">
            <div class="container cut">
                <h2>Installation</h2>
                <p class="center">
                    Auf dem Raspberry Pi sind einige Schritte notwendig, um das System vorzubereiten. Nachdem das System installiert ist, müssen zunächst einige Softwarepakete installiert werden.
                </p>
                
                <pre><span class="comment">Installation des Web Servers lighttpd</span>
sudo apt-get install lighttpd</pre>

                <p class="center">
                    Die Konfiguration des Lighttp Servers ist wie folgt.
                </p>
                <pre><span class="comment">Bearbeiten der Webserver Konfiguration</span>
sudo nano /etc/lighttpd/lighttpd.conf
<span class="comment">Folgene Inhalte einfügen bzw. anpassen</span>
server.modules = (
    "mod_access",
    "mod_alias",
    "mod_compress",
    "mod_redirect",
    "mod_fastcgi"
)
...
fastcgi.server = (
  ".php" =>
  (( "host" => "127.0.0.1",
     "port" => 1026,
      "bin-path" => "/usr/local/bin/php"
  )) 
)
                </pre>
                <p class="center">
                    Danach muss die Schnittstelle eingerichtet werden. Ich habe einen USB auf Seriell Adapter verwendet, der automatisch erkannt wird. Dennoch sind einige Einstellungen notwendig.
                </p>
                <pre>
<span class="comment">Bearbeiten des init scripts</span>
sudo nano /etc/rc.local
<span class="comment">Das USB/Seriell Device für alle Les- und Ausführbar machen</span>
chmod o=rx /dev/ttyUSB0
<span class="comment">Das Device auf Baudrate 19200 stellen</span>
stty -F /dev/ttyUSB0 ispeed 19200 ospeed 19200
<span class="comment">backend einrichten und prozesse starten</span>
chmod 0777 /var/www/backend
chmod +x /var/www/backend/*.sh
/var/www/backend/worker.sh &
                </pre>

                <p class="center">
                   Danach noch das WLAN oder LAN konfigurieren, je nachdem was man bevorzugt. Wenn alles soweit funktioniert, kann die Überwachungssoftware unter <strong>/var/www</strong> installiert werden.
                </p>
            </div>
        </section>

        <footer>
            Copyright 2015 Daniel Kagemann
        </footer>

    </body>
</html>
